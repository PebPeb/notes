
# Petalinux

Default username: petalinux

## Petalinux Commands

In total there are only 6 petalinux commands.

``` bash
petalinux-create
petalinux-config
petalinux-build
petalinux-boot
petalinux-package
petalinux-util
```

To see the current version of the kernel on your system 

``` bash
uname -r
```


### Build Commands Example

``` bash
petalinux-create -t project -n <prj_name> --template zynq          # Starting petalinux project for Zynq
petalinux-config --get-hw-description=<.xsa>                       # Hardware description file generated by Vivado
petalinux-config -c kernel                                         # ¯\_(ツ)_/¯
petalinux-config -c rootfs
petalinux-build                                                    # Building project
petalinux-package --boot --fsbl zynq_fsbl.elf --u-boot --fpga system.bit --force
```

``` bash
petalinux-create -t modules \--name mymodule \--enable
petalinux-build -c myapp -x do_clean                               # For compiling .ko
```
./build/tmp/sysroots-components/zynq_generic/mymodule/lib/modules/5.15.19-xilinx-v2022.1/extra/mymodule.ko

## Helpful commands 

``` bash
lsblk                                        # Shows add drives in linux
lsblk -f                                     # Includes formating
mount <drive> <folder>
mount -t <format> <drive> <folder>
  vfat                                       # fat32
  ext4                                       # ext4
tar -xzvf <.tar.gz> -C <folder>              # Untars the .tar.gz into <folder>

ifconfig eth0 <ip> netmask <netmask>
```

## Boot SD Card

(partion names don't matter)

Disk
.
+-- _ROOT(fat32)
|   +-- BOOT.BIN
|   +-- boot.src
|   +-- image.ub
+-- _LINUX(ext4)
|   +-- <extracted rootfs.tar.gz>

